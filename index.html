<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>君实生物</title>
	<link href="css/normalize.css" type="text/css" rel="stylesheet" media="all">
	<meta name=viewport content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1" />
	<!-- 引入样式 -->

	<link rel="stylesheet" href="https://unpkg.zhimg.com/element-ui/lib/theme-chalk/index.css">
	<link rel="stylesheet" href="https://unpkg.zhimg.com/element-ui/lib/theme-chalk/display.css">
	<link rel="stylesheet" href="css/animation.css">
	<link rel="stylesheet" href="css/swiper.min.css">
	<link rel="stylesheet" href="css/css.css">
	<link rel="stylesheet" href="css/style.css">
	<!-- 引入组件库 -->
	<script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-3.5.1.min.js"></script>
	<script src="js/swiper.min.js"></script>
	<script src="js/contUp.js"></script>
	<script src="https://unpkg.zhimg.com/vue/dist/vue.js"></script>
	<script src="https://unpkg.zhimg.com/element-ui/lib/index.js"></script>

	<style>
		.swiper-container {
			width: 100%;
			height: 100%;
		}

		.swiper-slide {
			text-align: center;
			font-size: 18px;


		}
	</style>
</head>

<body id="body">
	<div id="app">
		<div class="fixedTop center">
			<div class="fixedTopMain">
				<img src="img/logo.png" width="112" class="fl">
				<div class="fr">
					<div class="titleLink fl">
						<a href="index.html"><span class="on">
								网站首页
							</span></a>
						<a href="about.html"><span>
								关于君实
							</span></a>
						<a href="platform.html"><span>
								科学与治疗领域
							</span></a>
						<a href="NewsCenter.html"><span>
								新闻资讯
							</span></a>
						<a href="yf.html"><span>
								人才招聘
							</span></a>
						<a href="Investor.html"><span>
								投资者关系
							</span></a>
						<a href="ContactUs.html"><span>
								联系我们
							</span></a>
					</div>
					<div class="languageChoose fl">
						<span>
							<a href="index.html">简</a>
						</span> |
						<span>
							<a href="indexfn.html">繁</a>
						</span> |
						<span>
							<a href="indexen.html">En</a>
						</span>
					</div>
					<span class="enter">员工入口</span>
				</div>
			</div>
		</div>
		<div class="banner">
			<img src="img/x1.png" width="338" class="x">
		</div>
		<div class="innovate   pr">
			<div class="carousel-warp">
				<ul>
					<li>
						<dl class="carousel-inner">
							<dt>
								<span class="img-box"></span>
							</dt>
							<dd>
								<h4 class="title-animation">源头创新，科学精神1</h4>
								<p>全球一体化研发体系</p>
								<p>全生命周期抗体开发平台技术</p>
								<a href="#" class="local-button carousel-btn">了解更多 +</a>
							</dd>
						</dl>
					</li>
					<li>
						<dl class="carousel-inner" style="flex-flow:row-reverse">
							<dt>
								<span class="img-box"></span>
							</dt>
							<dd>
								<h4 class="title-animation">源头创新，科学精神2</h4>
								<p>全球一体化研发体系</p>
								<p>全生命周期抗体开发平台技术</p>
								<a href="#" class="local-button carousel-btn">了解更多 +</a>
							</dd>
						</dl>
					</li>
					<li>
						<dl class="carousel-inner">
							<dt>
								<span class="img-box"></span>
							</dt>
							<dd>
								<h4 class="title-animation">源头创新，科学精神3</h4>
								<p>全球一体化研发体系</p>
								<p>全生命周期抗体开发平台技术</p>
								<a href="#" class="local-button carousel-btn">了解更多 +</a>
							</dd>
						</dl>
					</li>
				</ul>
				<ol>
					<li></li>
					<li></li>
					<li></li>
				</ol>
			</div>

			<img src="img/x2.png" width="338" class="x">
		</div>

		<div class="domainBox">
			<div class="domainMain">
				<div class="domainTitle" style="width: 120px;height: 26px;font-size: 26px;font-family: Source Han Sans CN;font-weight: 500;color: #FFFFFF;">
					治疗领域
					<div class="line"></div>
				</div>
				<div class="turnplate-zone">
					<dl>
						<dd data-flag="left">
							<img src="img/l.png" width="45">
						</dd>
						<dt>
							<div class="turnplate-box">
								<ul class="dial-wrap">
									<!-- <li>
										<div class="dial-item">
											<img data-id="8" src="http://121.42.10.139:8028/upload/file/20201209/icon24.png" width="45">
											<h6>我我我我1</h6>
										</div>
									</li>
									<li>
										<div class="dial-item">
											<img data-id="8" src="http://121.42.10.139:8028/upload/file/20201209/icon24.png" width="45">
											<h6>我我我我2</h6>
										</div>
									</li>
									<li>
										<div class="dial-item">
											<img data-id="8" src="http://121.42.10.139:8028/upload/file/20201209/icon24.png" width="45">
											<h6>我我我我3</h6>
										</div>
									</li>
									<li>
										<div class="dial-item">
											<img data-id="8" src="http://121.42.10.139:8028/upload/file/20201209/icon24.png" width="45">
											<h6>我我我我4</h6>
										</div>
									</li>
									<li>
										<div class="dial-item">
											<img data-id="8" src="http://121.42.10.139:8028/upload/file/20201209/icon24.png" width="45">
											<h6>我我我我5</h6>
										</div>
									</li> -->
									<!-- <li>
										<div class="dial-item">
											<img data-id="8" src="http://121.42.10.139:8028/upload/file/20201209/icon24.png" width="45">
											<h6>我我我我6</h6>
										</div>
									</li> -->
								</ul>
								<div class="center-info">
								</div>
							</div>
						</dt>
						<dd data-flag="right">
							<img src="img/r.png" width="45">
						</dd>
					</dl>
				</div>
				<!-- <div class="domainIndex">
					<div class="zuo center">
						<img src="img/l.png" width="45" />
					</div>
					<div class="you center">
						<img src="img/r.png" width="45" />
					</div>
					<div class="lineBox r1">
						<div>

						</div>

					</div>
					<div class="domaincenter center on">
						<div id="domains">
						</div>
						<div class="rotateBox">
							<div class="pqiu dw1 on">
								<img data-id="1" src="" width="45" />
								<div>

								</div>
							</div>
							<div class="pqiu dw2">
								<img data-id="2" src="" width="45" />
								<div>

								</div>
							</div>
							<div class="pqiu dw3">
								<img data-id="3" src="" width="45" />
								<div>

								</div>
							</div>
							<div class="pqiu dw4">
								<img data-id="4" src="" width="45" />
								<div>

								</div>
							</div>
							<div class="pqiu dw5">
								<img data-id="5" src="" width="45" />
								<div>

								</div>
							</div>
							<div class="pqiu dw6">
								<img data-id="6" src="" width="45" />
								<div>

								</div>
							</div>
							<div class="pqiu dw7">
								<img data-id="7" src="" width="45" />
								<div>

								</div>
							</div>
							<div class="pqiu dw8">
								<img data-id="8" src="" width="45" />
								<div>

								</div>
							</div>
						</div>

					</div>
					<div id="HideIndex" style="display: none;"></div>
				</div> -->
			</div>
			<img src="img/x1.png" width="338" class="x">
		</div>

		<div class="indexbtn">
			<div class="indexCourse">
				<img class="indexCourImg" src="img/indexbtn.png" alt="">
				<div class="indeCouList lisds">
					<h2>公司历程</h2>
					<ul>
						<li class="history1">
							<h3></h3>
							<div class="indexCoulText">
								<p class="CoulTextp1" style="width:100%"></p>
							</div>
							<div class="clear"></div>
							<div class="coulLine"></div>
						</li>
						<li class="history2">
							<h3></h3>
							<div class="indexCoulText">
								<p class="CoulTextp1 " style="width:100%"></p>
							</div>
							<div class="clear"></div>
							<div class="coulLine" style=""  style="width:100%"></div>
						</li>
						<li class="history3">
							<h3></h3>
							<div class="indexCoulText">
								<p class="CoulTextp1 "></p>
							</div>
							<div class="clear"></div>
							<div class="coulLine"></div>
						</li>
					</ul>
				</div>
				<div class="clear"></div>
				<img src="img/x1.png" width="338" class="x">
			</div>
			<div class="indexNews indexTrams">
				<h2>新闻资讯</h2>
				<ul class="news-model">
					<!-- <li>
						<a href="">
							<div class="img-box" style="background-image: url(http://121.42.10.139:8028/upload/file/20201214/151213/%E5%9B%BE%E5%B1%82%2023.png);">
								<div class="mask">
									<span>了解更多+</span>
								</div>
							</div>
							<div class="news-content">
								<h4>君实生物在香港联交所主板成功上市</h4>
								<i></i>
								<p>
									君实生物成立于2012年12月，由毕业于中美两国知名学府、具有丰富跨国科技成果…
								</p>
							</div>
						</a>
					</li>
					<li>
						<a href="">
							<div class="img-box" style="background-image: url(http://121.42.10.139:8028/upload/file/20201225/160745/banner.png);">
								<div class="mask">
									<span>了解更多+</span>
								</div>
							</div>
							<div class="news-content">
								<h4>君实生物在香港联交所主板成功上市</h4>
								<i></i>
								<p>
									君实生物成立于2012年12月，由毕业于中美两国知名学府、具有丰富跨国科技成果…
								</p>
							</div>
						</a>
					</li>
					<li>
						<a href="">
							<div class="img-box" style="background-image: url(http://121.42.10.139:8028/upload/file/20201225/171234/3.png);">
								<div class="mask">
									<span>了解更多+</span>
								</div>
							</div>
							<div class="news-content">
								<h4>君实生物在香港联交所主板成功上市</h4>
								<i></i>
								<p>
									君实生物成立于2012年12月，由毕业于中美两国知名学府、具有丰富跨国科技成果…
								</p>
							</div>
						</a>
					</li> -->
				</ul>
				<button onclick="location.href='NewsCenter.html'">了解更多+</button>
			</div>
		</div>
	</div>



	<div class="footerMain1" id="div">
		<div class="footerbox">
			<div class="footerMain center">
				<img src="img/footer2.png" width="100">
				<div class="w25">
					<a href="index.html"><span>
							网站首页<br>
						</span></a>
					<span>
						<a href="about.html">关于我们<br>
					</span></a>
					<span>
						治疗领域<br>
					</span>
				</div>
				<div class="w25">
					<a href="NewsCenter.html"><span>
							新闻资讯<br>
						</span></a>
					<span>
						<a href="yf.html">人才招聘<br>
					</span></a>
					<span>
						<a href="Investor.html">投资者关系<br>
					</span></a>
				</div>
				<div class="w25 w30">
					<a href="ContactUs.html"><span>
							联系我们<br>
						</span></a>
					<a href="adverse_event.html"><span>
							不良事件报告平台<br>
						</span></a>

				</div>
				<div class="w35">
					<span style="font-weight: bold;">
						联系我们<br>
					</span>
					<span>
						电话：(86)21-20248288<br>
					</span>
					<span>
						传真：(86)21-50796192<br>
					</span>
					<span>
						地址：上海市浦东新区海趣路36号、58号2幢13层<br>
					</span>
				</div>
				<div class="wxBox">
					<img src="img/footer3.png" width="80"> <img src="img/footer1.png" width="100"
						style="position: relative; top: 5px;">
				</div>
			</div>
			<div class="footerBottom">
				opyright - 上海君实生物医药科技股份有限公司 All Rights Reserved. 沪ICP备14029724号
			</div>
		</div>

	</div>
</body>
<script>

	// $(".footerMain").load("footer")
	var Main = {
		data() {
			return {

			}
		},
		created() {

		},
	}
	var Ctor = Vue.extend(Main)
	new Ctor().$mount('#app')

</script>
<script>

	const domainUrl = 'http://121.42.10.139:8028/upload'

	$(".lineBox ").addClass("r2")
	$(".rotateBox ").on('click', 'div', function () {
		var index = $(this).index() + 1
		var index1 = $(this).index()
		// $(".lineBox ").removeClass("r1 r2 r3 r4 r5")
		// $(".lineBox ").addClass("r" + index)
		$(".rotateBox div").removeClass("on")
		$(this).closest(".xic.on").find(".xic").removeClass("on")
		$(this).closest(".xic.on").find(".xic").eq(index1).addClass("on")
		$(".rotateBox").addClass("on")
		$('.rotateBox').one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend',
			function () {
				$(".rotateBox").removeClass("on")

				$(".zuo,.you").removeClass("on")
			});
		$(".rotateBox>div:eq(0)").addClass('on')
		var numbs = $(this).find('img').data("id")
		$(".xic").removeClass("on")
		$(".xic").eq(numbs - 1).addClass("on")

		if ($(this).hasClass('dw1')) {
			return
		} else {

			var thisCli = $(this).find("*")
			var thisOne = $(".dw1").find("*")
			var zancun = $("#HideIndex")
			zancun.html(thisOne)
			$(".dw1").html(thisCli)
			$(this).html(zancun.find("*"))

		}

	})
	var showIndex = 0
	$(".lineBox ").addClass("r1 ")
	$(".zuo").click(function () {
		if ($(this).hasClass("on")) {
			return false;
		}
		$(".zuo,.you").addClass("on")

		showIndex--
		if (showIndex < 0) {
			showIndex = 1
		}
		$(".rotateBox").addClass("on")
		// $(".lineBox").removeClass("r1 r2 r3 r4 r5")
		// $(".lineBox ").addClass("r1 ")
		$(".dw1 ").addClass("on")
		$('.rotateBox').one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend',
			function () {
				$(".rotateBox").removeClass("on")
				$(".xic").removeClass("on")
				$(".xic").eq(showIndex).addClass("on")
				$(".zuo,.you").removeClass("on")
			});



	})
	$(".you").click(function () {
		if ($(this).hasClass("on")) {
			return false;
		}
		$(".zuo,.you").addClass("on")

		showIndex--
		if (showIndex > 1) {
			showIndex = 0
		}
		$(".rotateBox").addClass("on")
		// $(".lineBox").removeClass("r1 r2 r3 r4 r5")
		// $(".lineBox ").addClass("r1 ")
		$(".dw1 ").addClass("on")

		$('.rotateBox').one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend',
			function () {
				$(".rotateBox").removeClass("on")
				$(".xic").removeClass("on")
				$(".xic").eq(showIndex).addClass("on")
				$(".zuo,.you").removeClass("on")
			});



	})
	function leftSwipe() {
		var startX = 0,
			endX = 0;
		var index = 0
		var time
		$(document).mousedown(function (e) {
			// console.log('mousedown')
			startX = e.clientX;
			// $(document).mousemove (function () {
			//     console.log('mousemove')  
			clearTimeout(time)
		})
		function zizeng() {
			index++
			$(".Mypagination span").removeClass("on")
			$(".noswiper").show()
			if (index == 1) {
				$(".innovate .lshow").removeClass("left")
				$(".innovate .lshow").addClass("right")
				$('.right .ileft img').one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend',
					function () {
						setTimeout(function () {
							$(".noswiper").hide(); $(".innovate .lshow").removeClass("right"); $(".jd div").css("opacity", "1");
							$(".rshow").show().removeClass("mm");
							time = setTimeout(function () {
								zizeng()
							}, 1000)
						}, 1000)

						$(".jd >div").css("opacity", "0")
						$(".lshow").hide()
						$(".rshow").show().addClass("mm")

					});

			}
			if (index > 1) {
				index = 0
				$(".innovate .rshow").removeClass("right")
				$(".innovate .rshow").addClass("left")
				$('.left .ileft img').one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend',
					function () {
						setTimeout(function () {
							$(".noswiper").hide(); $(".innovate .rshow").removeClass("left"); $(".jd div").css("opacity", "1");
							$(".lshow").show().removeClass("mm");
							time = setTimeout(function () {
								zizeng()
							}, 1000)
						}, 1000)

						$(".jd >div").css("opacity", "0")
						$(".rshow").hide()
						$(".lshow").show().addClass("mm")

					});
			}
			$(".Mypagination span").eq(index).addClass("on")
		}
		time = setTimeout(function () {
			zizeng()
		}, 1000)
		$(".innovate .w1300").mouseup(function (e) {
			console.log('mouseup')
			$(".Mypagination span").removeClass("on")
			endX = e.clientX;
			console.log('startX: ' + startX + ' endX: ' + endX);
			if (endX - startX < 0) {
				console.log('swipe to right');
				index++
				console.log(index)
				$(".noswiper").show()
				if (index == 1) {
					$(".innovate .lshow").removeClass("left")
					$(".innovate .lshow").addClass("right")
					$('.right .ileft img').one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend',
						function () {
							setTimeout(function () {
								$(".noswiper").hide(); $(".innovate .lshow").removeClass("right"); $(".jd div").css("opacity", "1");
								$(".rshow").show().removeClass("mm");
								time = setTimeout(function () {
									zizeng()
								}, 1000)
							}, 500)

							$(".jd >div").css("opacity", "0")
							$(".lshow").hide()
							$(".rshow").show().addClass("mm")

						});

				}
				if (index > 1) {
					index = 0
					$(".innovate .rshow").removeClass("right")
					$(".innovate .rshow").addClass("left")
					$('.left .ileft img').one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend',
						function () {
							setTimeout(function () {
								$(".noswiper").hide(); $(".innovate .rshow").removeClass("left"); $(".jd div").css("opacity", "1");
								$(".lshow").show().removeClass("mm");
								time = setTimeout(function () {
									zizeng()
								}, 1000)
							}, 500)

							$(".jd >div").css("opacity", "0")
							$(".rshow").hide()
							$(".lshow").show().addClass("mm")

						});
				}
				$(".Mypagination span").eq(index).addClass("on")
			} else if (endX - startX > 0) {
				console.log('swipe to left');
				index--
				console.log(index)
				$(".noswiper").show()
				if (index < 0) {
					index = 1
					$(".innovate .lshow").removeClass("left")
					$(".innovate .lshow").addClass("right")
					$('.right .ileft img').one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend',
						function () {
							setTimeout(function () {
								$(".noswiper").hide(); $(".innovate .lshow").removeClass("right"); $(".jd div").css("opacity", "1");
								$(".rshow").show().removeClass("mm");
								time = setTimeout(function () {
									zizeng()
								}, 1000)
							}, 500)

							$(".jd >div").css("opacity", "0")
							$(".lshow").hide()
							$(".rshow").show().addClass("mm")

						});

				}
				if (index <= 0) {

					$(".innovate .rshow").removeClass("right")
					$(".innovate .rshow").addClass("left")
					$('.left .ileft img').one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend',
						function () {
							setTimeout(function () {
								$(".noswiper").hide(); $(".innovate .rshow").removeClass("left"); $(".jd div").css("opacity", "1");
								$(".lshow").show().removeClass("mm");
								time = setTimeout(function () {
									zizeng()
								}, 1000)
							}, 500)

							$(".jd >div").css("opacity", "0")
							$(".rshow").hide()
							$(".lshow").show().addClass("mm")

						});
				}
				$(".Mypagination span").eq(index).addClass("on")
			}
		})
	}

	leftSwipe();
	var swiper = new Swiper('.swiper-container', {
		followFinger: false,
		pagination: {
			el: '.swiper-pagination',
		},
		on: {
			touchMove: function (swiper, event) {
				// 你的事件
				console.log(111)
			},
		},
	});
	/*
	Copyright 漏 2015 HTML5andBeyond.com
	Licensed Under MIT
	*/

	!function (e) { e.fn.lbyl = function (n) { { var t = e.extend({ content: "", speed: 10, type: "fade", fadeSpeed: 500, finished: function () { } }, n), d = e(this), s = [], i = t.content; e(this).length } d.empty(), d.attr("data-time", i.length * t.speed); for (var p = 0; p < i.length; p++)s.push(i[p]); e.each(s, function (e, n) { d.append('<span style="display: none;">' + n + "</span>"), setTimeout(function () { "show" == t.type ? d.find("span:eq(" + e + ")").show() : "fade" == t.type && d.find("span:eq(" + e + ")").fadeIn(t.fadeSpeed) }, e * t.speed) }), setTimeout(function () { t.finished() }, i.length * t.speed) } }(jQuery);
	$(function () {
		$('.indexCoulText p').hide()
		var imgurl = localStorage.getItem('imgUrl')
		var licheng = ''
		sendAjax('/mainIndex', { language: '0' }, function (data) {

			var bane = imgurl + data.data.audio_list[0].files.img_url
			$(".banner").css({ 'background': `url(${bane})` })
			$(".banner").css({ 'background-size': 'cover' })
			
			licheng = data.data.history
			
			// 幻灯片效果
			renderPlayModel(data.data.banner_list)
			
			// 渲染新闻模块
			const liHtml = renderNews(data.data.newslist)
			$('.news-model').html(liHtml)


		
			const area = data.data.area
			// 渲染大转盘
			let originAngle = 90
			const turnplateHtml = renderTurnplate(area, originAngle)
			$('.dial-wrap').css('transform', `rotate(${originAngle}deg)`)
			$('.dial-wrap').html(turnplateHtml)
			// 大转盘事件绑定
			turnplateHandler(area, originAngle)

			// 渲染转盘中心区域
			renderTurnplateCenterZone(area, 0)
		})

		$(window).scroll(function () {
			if ($(document).scrollTop() > 2200) {
				$('.indeCouList').addClass('indexTrams')

				$(".history1 h3").lbyl({
					content: licheng[0].time,
					speed: 100,
					type: 'show',
					finished: function () {
						$('.indexCoulText p').show()
						$('.history1 p').lbyl({
							content: licheng[0].text,
							speed: 100,
							type: 'show',
						})
						$('.coulLine').css({ "opacity": '1' })
						$('.lisds').removeClass('lisds')
						$('.history1').removeClass('history1')
					} // Finished Callback
				});
				$(".history2 h3").lbyl({
					content: licheng[1].time,
					speed: 100,
					type: 'show',
					finished: function () {
						$('.indexCoulText p').show()
						$('.history2 p').lbyl({
							content: licheng[1].text,
							speed: 100,
							type: 'show',
						})
						$('.coulLine').css({ "opacity": '1' })
						$('.lisds').removeClass('lisds')
						$('.history2').removeClass('history2')
					} // Finished Callback
				});
				$(".history3 h3").lbyl({
					content: licheng[2].time,
					speed: 100,
					type: 'show',
					finished: function () {
						$('.indexCoulText p').show()
						$('.history3 p').lbyl({
							content: licheng[2].text,
							speed: 100,
							type: 'show',
						})
						$('.coulLine').css({ "opacity": '1' })
						$('.lisds').removeClass('lisds')
						$('.history3').removeClass('history3')
					} // Finished Callback
				});
			}
		})
	})

	function highLightLi(index) {
		$('.carousel-warp ol li').removeClass()
		$('.carousel-warp ol li').eq(index).addClass('active')
	}

	function renderUlLi(bannerList) {
		const liHtml = bannerList.map((item, index) => {
			return `
			<li>
				<dl class="carousel-inner ${`${index % 2 === 0 ? '' : 'reverse'}`}">
					<dt>
						<span class="img-box" style="background-image: url(${domainUrl + item.file.img_url})"></span>
					</dt>
					<dd>
						<h4 class="title-animation">${item.title}</h4>
						<p>${item.text1 ? item.text1 : ''}</p>
						<p>${item.text2 ? item.text2 : ''}</p>
						<p>${item.text3 ? item.text3 : ''}</p>
						<a href="${item.url}" class="local-button carousel-btn">了解更多 +</a>
					</dd>
				</dl>
			</li>
			`
		}).join('')
		$('.carousel-warp ul').html(liHtml)
	}

	function renderOlLi(bannerList) {
		const liHtml = bannerList.map(item => {
			return `<li></li>`
		})
		$('.carousel-warp ol').html(liHtml)
	}

	function bindUl(bannerList) {
		const len = bannerList.length
		$('.carousel-warp ul li:eq(0)').addClass('showLeft')
		$('.carousel-warp ul li').each(function(index) {
			$(this).find('dt').on('animationend', function(ev) {
				console.log('ev.originalEvent.animationName', ev.originalEvent.animationName, index)
				if (ev.originalEvent.animationName === 'fadeOut'){
					// 运动结束后清除当前索引动画class
					$(`.carousel-warp ul li:eq(${index})`).removeClass()
					// 给接下来的子项添加动画（偶数：showLeft， 奇数：showRight）
					const next = (index + 1) >= len ? 0 : index + 1
					const type = next % 2 === 0 ? 'showLeft': 'showRight'
					$(`.carousel-warp ul li:eq(${next})`).addClass(type)
					highLightLi(next)
				}
			})
		})
	}

	function bindOl() {
		$('.carousel-warp ol li').on('click', function() {
			const index = $(this).index()
			$(this).addClass('active').siblings().removeClass()
			const type = index % 2 === 0 ? 'showLeft': 'showRight'
			$(`.carousel-warp ul li:eq(${index})`).addClass(type).siblings().removeClass()
		})
	}

	function renderPlayModel(bannerList) {

		// 渲染Ul
		renderUlLi(bannerList)
		// 渲染Ol
		renderOlLi(bannerList)
		// 绑定UL事件
		bindUl(bannerList)
		// 绑定Ol事件
		bindOl(bannerList)
		// 高亮
		highLightLi(0)
	

		// $('.carousel-warp li:eq(0)').addClass('showLeft')
		// let index = 0
		// $('.carousel-warp li:eq(0) dt').on('animationend', function(ev) {

		// 	if (ev.originalEvent.animationName === 'fadeOut'){
		// 		++index
		// 		$(`.carousel-warp li:eq(${index%3 - 1})`).removeClass('showLeft')
		// 		$(`.carousel-warp li:eq(${index%3})`).addClass('showLeft')
		// 	}
			
		// })
	}

	function renderTurnplateCenterZone (list, currentAngle) {
		const res = calculateTurnplate(list)
		const disAngle = res.disAngle
		const index = currentAngle < 0 ? (360 + currentAngle) / disAngle : currentAngle / disAngle
		const item = list[index]
		const textArr = ['text1', 'text2', 'text3', 'text4']
		const textArrStr = textArr.map(cell => {
			return item[cell]
		}).filter(cell => {
			return cell !== 'null' && cell
		})
		const centerHtml = `
		<img data-id="8" src="${domainUrl}${item.file.img_url}" width="65">
		<h4>${item.title}</h4>
		<p>${textArrStr.join('、')}</p>
			<a href="">查看更多</a>
		`
		$('.center-info').html(centerHtml)
	}

	function fixTurnplateItemAngle(list, originAngle) {
		const res = calculateTurnplate(list)
		const len = res.len
		const disAngle = res.disAngle

		return list.map((item, index) => {
			const currentAngle = index * -disAngle
			const turnAngle = -originAngle - currentAngle
			$('.dial-wrap li').eq(index).find('.dial-item').css('transform', `translateY(-100px) rotate(${turnAngle}deg)`)
		})
	}

	function turnplateHandler(list, originAngle) {
		const res = calculateTurnplate(list)
		const len = res.len
		const disAngle = res.disAngle
		let currentOriginItemAngle = 0

		$('.turnplate-zone').on('click', 'dd', function() {
			const flag = $(this).data('flag')
			const disAngleFlag = flag === 'right' ?  disAngle : -disAngle
			currentOriginItemAngle = (currentOriginItemAngle + disAngleFlag)%360

			originAngle = originAngle + disAngleFlag
			$('.dial-wrap').css('transform', `rotate(${originAngle}deg)`)

			fixTurnplateItemAngle(list, originAngle)
			renderTurnplateCenterZone(list, currentOriginItemAngle)
		})



		$('.turnplate-zone').on('click', '.dial-item', function() {
			const angle = $(this).data('angle')
			if (Math.abs(angle) < currentOriginItemAngle) {
				const dis = 360 - currentOriginItemAngle - angle
				originAngle = originAngle + dis
			} else {
				let dis = Math.abs(angle) - currentOriginItemAngle
				dis = dis < 0 ? 360 - dis : dis
				originAngle = originAngle + dis
			}
			
			$('.dial-wrap').css('transform', `rotate(${originAngle}deg)`)
			currentOriginItemAngle = Math.abs(angle)
			
			fixTurnplateItemAngle(list, originAngle)
			renderTurnplateCenterZone(list, currentOriginItemAngle)
		})
		

		
	}
	function calculateTurnplate(list) {
		// 转盘子个数
		const len = list.length 
		// 每格角度间距
		const disAngle = Math.round(360 / len)
		return {
			len,
			disAngle
		}
	}
	function renderTurnplate(list, originAngle) {
		const res = calculateTurnplate(list)
		const len = res.len
		const disAngle = res.disAngle

		return list.map((item, index) => {
			const currentAngle = index * -disAngle
			const turnAngle = -originAngle - currentAngle
			return `
				<li style="transform: rotate(${currentAngle}deg)">
					<div class="dial-item" style="transform: translateY(-100px) rotate(${turnAngle}deg)" data-angle="${currentAngle}">
						<img data-id="8" src="${domainUrl}${item.file.img_url}" width="45">
						<h6>${item.title}</h6>
					</div>
				</li>
			`
		})
	}

	function renderNews (newList) {
		
		return newList.map(item => {
			return `
			<li>
				<a href="NewsCenterD.html?id=${item.id}">
					<div class="img-box" style="background-image: url(${encodeURI(domainUrl + item.file2.img_url)});">
						<div class="mask">
							<span>了解更多+</span>
						</div>
					</div>
					<div class="news-content">
						<h4>${item.title}</h4>
						<i></i>
						${item.content}
					</div>
				</a>
			</li>
			`
		}).join('')
	}


</script>

</html>